<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSMANLI TÃœRKÃ‡ESÄ° VAV OKUTUCUSU ETKÄ°NLÄ°ÄÄ°</title>
    <style>
        /* Evolventa Fontunu Harici Kaynaktan (CDN) Ekleme */
        @import url('https://fonts.cdnfonts.com/css/evolventa');

        /* CSS BaÅŸlangÄ±cÄ± */
        body {
            /* TÃœM YAZILAR EVOLVENTA */
            font-family: 'Evolventa', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            /* Sayfa Boyutu */
            width: 950px; 
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .header-box {
            width: 100%;
            /* BAÅLIK GRADIENT: AÃ§Ä±ktan koyuya */
            background: linear-gradient(to right, #6B8E23, #4B5320); 
            color: white;
            text-align: center;
            padding: 20px 0; 
            margin-bottom: 20px;
        }

        h1 {
            font-size: 24px; /* Ana BaÅŸlÄ±k Font Size */
            margin: 0;
        }

        h2 {
            font-size: 18px; /* Alt BaÅŸlÄ±k Font Size */
            margin: 5px 0 0 0;
            font-weight: normal;
        }

        /* PUAN VE SÃœRE Ã‡UBUÄU */
        .info-bar-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px; /* Mesafeyi bir tÄ±k azalttÄ±k */
            gap: 20px; 
        }
        
        .info-box {
            flex: 1; 
            padding: 10px 15px;
            font-size: 16px; 
            color: white; 
            border-radius: 5px; 
            text-align: center;
            background: linear-gradient(to right, #38761D, #6AA84F); 
        }

        .quiz-area {
            text-align: center;
            font-size: 16px;
            /* YÃ¼ksekliÄŸi belirledik ve iÃ§eriÄŸi dikeyde ortalamak iÃ§in Flexbox kullandÄ±k */
            min-height: 350px; 
            display: flex;
            flex-direction: column;
            justify-content: center; 
            align-items: center;
        }

        /* BaÅŸlangÄ±Ã§ta gizli tutulacak alan, sadece ortalama iÃ§in flex'i kullanÄ±r */
        #quiz-area:not(#start-screen) {
             display: none; 
        }

        /* Kelime gÃ¶sterim alanÄ± (Daha dengeli bir konumlandÄ±rma iÃ§in) */
        .harf-display {
            height: 200px; /* YÃ¼ksekliÄŸi korundu */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 20px; 
            position: relative;
            padding-top: 15px; /* SayacÄ±n kelime Ã¼zerinde dengeli durmasÄ± iÃ§in boÅŸluk */
        }
        
        /* GERÄ° SAYIM KUTUSU - DENGELENDÄ° */
        #harf-countdown-box {
            position: absolute; 
            top: 0; /* Kelime alanÄ±nÄ±n tepesine yerleÅŸir */
            padding: 5px 15px;
            border-radius: 5px;
            color: white; 
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(to right, #4B5320, #6B8E23); 
            transition: opacity 0.3s;
        }

        #current-harf {
            /* VarsayÄ±lan font boyutu */
            font-size: 100px; 
            direction: rtl; /* SaÄŸdan sola yazÄ±m */
            position: absolute;
            top: 50%; 
            left: 50%;
            /* Konum sabit tutuldu */
            transform: translate(-50%, -60px) scale(1.0); 
            /* GeÃ§iÅŸ hÄ±zÄ± 0.5s'ye ayarlandÄ±. Transform geÃ§iÅŸi eklendi. */
            transition: opacity 0.5s ease-out, transform 0.5s ease-out, font-size 0.3s; 
            opacity: 1;
            /* SatÄ±r atlamayÄ± engellemek iÃ§in */
            white-space: nowrap; 
        }
        
        /* Kelime Kaybolma Animasyonu (Fade-out) */
        .fade-out {
            /* Sadece OPACITY ile kaybolma saÄŸlanarak titreme kesin olarak engellendi */
            opacity: 0 !important; 
            /* Transform Ã¶zelliÄŸi kaldÄ±rÄ±ldÄ± */
        }

        .choices {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 10px; 
        }

        .choice-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border: none;
            cursor: pointer;
            font-size: 16px; 
            width: 180px; /* Buton geniÅŸliÄŸini artÄ±rdÄ±k */
            transition: background-color 0.3s;
            font-family: 'Evolventa', sans-serif;
            text-align: left; 
        }

        .choice-button:hover {
            background-color: #45a049;
        }

        .choice-letter {
            font-weight: bold;
        }

        /* Geri bildirim stilleri */
        #feedback {
            font-size: 20px;
            display: flex;
            flex-direction: column; 
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-height: 80px; 
            margin-top: 15px; 
        }
        
        /* YENÄ°DEN DENE ve BAÅLAT Buton Stili */
        .start-button, .restart-button {
            background-color: #4B5320; 
            color: white;
            padding: 15px 30px;
            margin-top: 20px; 
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: background-color 0.3s;
            font-family: 'Evolventa', sans-serif;
        }

        .start-button:hover, .restart-button:hover {
            background-color: #6B8E23;
        }

        .feedback-text {
            font-weight: bold;
        }

        .correct-text {
            color: green;
        }

        .wrong-text {
            color: red;
        }

        .icon {
            font-size: 24px;
            line-height: 1; 
        }

        /* Oyun Sonu Skor EkranÄ± iÃ§in Ã–zel Stil */
        .final-score-display {
            font-size: 70px;
            font-weight: bold;
            color: #4B5320;
            margin: 10px 0 15px 0; 
        }

        /* BaÅŸlangÄ±Ã§ EkranÄ± Stili */
        #start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 350px; 
            text-align: center;
        }
        /* CSS Sonu */
    </style>
</head>
<body>

    <div class="container">
        <div class="header-box">
            <h1>OSMANLI TÃœRKÃ‡ESÄ° VAV OKUTUCUSU(O,Ã–,U,Ãœ SESÄ°) ETKÄ°NLÄ°ÄÄ°</h1>
            <h2>NAZÄ°LLÄ° ANADOLU LÄ°SESÄ° 3.HAFTA - Sefa AKBAÅ</h2>
        </div>

        <div class="info-bar-container">
            <div id="score" class="info-box">Puan: 0</div>
            <div id="timer" class="info-box">SÃ¼re: 01:00</div>
        </div>

        <div id="start-screen" style="display: flex;"> 
            <p style="font-size: 20px; color: #4B5320;">
                **VAV OKUTUCUSU (O,Ã–,U,Ãœ SESÄ°) KELÄ°ME OKUMA ETKÄ°NLÄ°ÄÄ°**<br>
                Ekrana gelen OsmanlÄ± TÃ¼rkÃ§esi (Kur'an harfli) kelimenin doÄŸru okunuÅŸunu ÅŸÄ±klardan bulunuz.<br>
                YarÄ±ÅŸmaya baÅŸlamak iÃ§in butona tÄ±klayÄ±nÄ±z. Sesli geri sayÄ±m baÅŸlayacaktÄ±r.
            </p>
            <button id="start-button" class="start-button">YARIÅMAYI BAÅLAT</button>
        </div>

        <div class="quiz-area" id="quiz-area">
            </div>
    </div>

    <script>
        // JavaScript BaÅŸlangÄ±cÄ±

        // =================================================================
        // SESLER (Yerel Dosyalar KullanÄ±lÄ±yor ve Ses Seviyesi AyarlandÄ±)
        // =================================================================
        // NOT: Bu dosyalarÄ±n (correct.mp3, wrong.mp3, clock.mp3) HTML dosyasÄ±yla aynÄ± klasÃ¶rde olmasÄ± GEREKÄ°R.
        const audioClock = new Audio('clock.mp3'); 
        const audioCorrect = new Audio('correct.mp3'); 
        const audioWrong = new Audio('wrong.mp3'); 

        // SES AYARI: Sesler %10 (0.10) oranÄ±nda Ã§alsÄ±n.
        audioClock.volume = 0.10; 
        audioCorrect.volume = 0.10; 
        audioWrong.volume = 0.10;  

        // AnlÄ±k sesleri oynatan genel fonksiyon (Basit Audio nesneleri iÃ§in)
        function playAudio(audioElement, loop = false) {
            audioElement.currentTime = 0; 
            audioElement.loop = loop;
            audioElement.play().catch(e => { console.log("Ses Ã§alÄ±namadÄ± (Autoplay kÄ±sÄ±tlamasÄ± olabilir)."); });
        }

        // =================================================================
        // KELÄ°MELER VE EÅLEÅMELER (Vav Okutucusu "o, Ã¶, u, Ã¼" Sesi) - GÃœNCELLENDÄ°
        // =================================================================
        const kelimeListesi = {
            'Ø§Ùˆ': 'o', 
            'Ø¨Ùˆ': 'bu', 
            'Ø´Ùˆ': 'ÅŸu', 
            'Ø§ÙˆÙ†': 'on', 
            'Ù…ÙˆØ²': 'muz', 
            'Ú†ÙˆÙ‚': 'Ã§ok', 
            'Ù‚ÙˆÙ…': 'kum', 
            'Ø§ÙˆÚ†': 'Ã¼Ã§', 
            'ÙƒÙˆØ²': 'gÃ¶z', 
            'ØªÙˆÙ„': 'tÃ¼l', 
            'Ø³ÙˆØ²': 'sÃ¶z', 
            'Ø¨ÙˆØªÙˆÙ†': 'bÃ¼tÃ¼n', 
            'Ø¨ÙˆÙŠÙˆÙƒ': 'bÃ¼yÃ¼k', 
            'Ø·ÙˆÙ‚ÙˆØ²': 'dokuz', 
            'Ù‚Ø§Ù†ÙˆÙ†': 'kanun', 
            'ØµØ§Ù„ÙˆÙ†': 'salon', 
            'Ú†ÙˆØ±Ø¨Ù‡': 'Ã§orba', 
            'Ø·ÙˆØ±Ø¨Ù‡': 'torba', 
            'Ù‚Ø§Ø±Ø¨ÙˆÙ†': 'karbon', // DÃ¼zeltildi: Kaf-Elif-Ra-Be-Vav-Nun
            'Ø¨Ø§Ù„ÛŒÙˆØ²': 'balyoz', 
            'ÙØ§ØµÙˆÙ„ÛŒÙ‡': 'fasulye', 
            'ÛŒÙˆÙ…ÙˆØ±Ø·Ù‡': 'yumurta', 
            'Ø¨Ø§Ø±Ø¨ÙˆÙ†ÙŠÙ‡': 'barbunya', 
            'ØµØ§Ø¨ÙˆÙ†': 'sabun', 
        };
        
        // Kelime listesinin OsmanlÄ±ca imlalarÄ± (Anahtar/Key)
        const osmanlicaKelimeler = Object.keys(kelimeListesi);
        
        // Latin harfli okunuÅŸlar (DeÄŸer/Value)
        const latinOkunuslar = Object.values(kelimeListesi);

        const secenekler = ['a', 'b', 'c', 'd', 'e']; // 5 ÅŸÄ±k 
        const totalDuration = 60; // 1 Dakika (60 saniye)
        const harfDuration = 5; // Her kelime iÃ§in 5 saniye (Eski isim korundu)
        
        let timeLeft = totalDuration;
        let harfTimeLeft = harfDuration;
        let score = 0;
        let currentOsmanlicaKelime = '';
        let timerInterval; 
        let harfInterval; 
        let harfTimeout; 
        
        // Kelimeleri rastgele sÄ±rada tutacak dizi
        let shuffledKelimeler = [];
        let kelimeIndex = 0;

        // DOM Elementleri (Global olarak tanÄ±mlananlar)
        const scoreEl = document.getElementById('score');
        const timerEl = document.getElementById('timer');
        const quizAreaEl = document.getElementById('quiz-area');
        const startScreenEl = document.getElementById('start-screen');
        const startButtonEl = document.getElementById('start-button');
        
        // Dinamik olarak oluÅŸturulan elemanlar iÃ§in placeholder'lar
        let harfEl, harfCountdownBoxEl, harfCountdownEl, choicesContainer, feedbackEl;

        // =================================================================
        // YARDIMCI FONKSÄ°YON: DÄ°ZÄ° KARMA (Fisher-Yates Shuffle)
        // =================================================================
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        // =================================================================
        // HTML YAPISINI OYUN Ä°Ã‡Ä°NDE OLUÅTURMA
        // =================================================================
        function createQuizElements() {
            // Quiz alanÄ±nÄ±n iÃ§eriÄŸi temizlenir ve Kelime/ÅÄ±k/Feedback yapÄ±sÄ± yeniden oluÅŸturulur
            quizAreaEl.innerHTML = `
                <div class="harf-display">
                    <div id="harf-countdown-box">
                        <span id="harf-countdown">5</span>
                    </div>
                    <span id="current-harf" style="direction: rtl;"></span> 
                </div>

                <div class="choices" id="choices-container"></div>
                <div id="feedback"></div>
            `;
            // Yeni DOM elementlerini atama
            harfEl = document.getElementById('current-harf');
            harfCountdownBoxEl = document.getElementById('harf-countdown-box'); 
            harfCountdownEl = document.getElementById('harf-countdown'); 
            choicesContainer = document.getElementById('choices-container');
            feedbackEl = document.getElementById('feedback');
        }


        // =================================================================
        // ZAMANLAYICI VE OYUN KONTROL
        // =================================================================
        
        function startGameFlow() {
            // BaÅŸlangÄ±Ã§ ekranÄ±nÄ± gizle, quiz elementlerini oluÅŸtur
            startScreenEl.style.display = 'none';
            createQuizElements(); 
            quizAreaEl.style.display = 'flex'; 
            
            // Kelime listesini karÄ±ÅŸtÄ±r ve indeksi sÄ±fÄ±rla
            shuffledKelimeler = [...osmanlicaKelimeler];
            shuffleArray(shuffledKelimeler);
            kelimeIndex = 0;

            // CLOCK sesini arka planda dÃ¶ngÃ¼ye alarak baÅŸlat
            playAudio(audioClock, true); 
            
            startTimer();
            displayNewKelime(); // Kelime gÃ¶sterme fonksiyonunu Ã§aÄŸÄ±rdÄ±k
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    clearInterval(harfInterval);
                    endGame();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerEl.textContent = `SÃ¼re: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // =================================================================
        // KELÄ°ME GERÄ° SAYIM YÃ–NETÄ°MÄ°
        // =================================================================
        
        function startKelimeCountdown() {
            clearInterval(harfInterval); 
            harfTimeLeft = harfDuration;
            harfCountdownEl.textContent = harfTimeLeft;
            
            // EÄŸer saat sesi durmuÅŸsa (oyun baÅŸlatÄ±ldÄ±ÄŸÄ±nda veya yeniden denerken) tekrar baÅŸlat
            if (audioClock.paused) {
                 playAudio(audioClock, true);
            }

            harfInterval = setInterval(() => {
                harfTimeLeft--;
                harfCountdownEl.textContent = harfTimeLeft;
                
                if (harfTimeLeft <= 0) {
                    clearInterval(harfInterval);
                    
                    // Kelime kaybolma animasyonu ve feedback
                    harfEl.classList.add('fade-out');
                    harfCountdownBoxEl.style.opacity = '0'; 
                    feedbackEl.innerHTML = '<span class="feedback-text wrong-text">SÃœRE DOLDU!</span>';
                    
                    setTimeout(displayNewKelime, 1000); 
                }
            }, 1000);

            clearTimeout(harfTimeout);
        }

        // =================================================================
        // KELÄ°ME SEÃ‡Ä°MÄ° VE GÃ–STERÄ°MÄ°
        // =================================================================

        function getRandomItem(arr) {
            // KarÄ±ÅŸÄ±k diziden sÄ±rayla alÄ±yoruz
            if (kelimeIndex >= arr.length) {
                 // KarÄ±ÅŸÄ±k liste bittiÄŸinde tekrar karÄ±ÅŸtÄ±rÄ±lacak
                 return null;
            }
            return arr[kelimeIndex++];
        }

        function generateChoices(correctOsmanlicaKelime) {
            const correctName = kelimeListesi[correctOsmanlicaKelime];
            // TÃ¼m Latin okunuÅŸlarÄ±nÄ± al
            const allNames = latinOkunuslar.filter(n => n !== correctName);
            
            // 4 YanlÄ±ÅŸ cevap seÃ§imi
            let wrongNames = [];
            
            // Yeterli yanlÄ±ÅŸ cevap bulana kadar dÃ¶ngÃ¼
            while (wrongNames.length < 4 && allNames.length > 0) {
                // Rastgele bir yanlÄ±ÅŸ okunuÅŸ seÃ§
                const randomIndex = Math.floor(Math.random() * allNames.length);
                const randomName = allNames[randomIndex];
                
                if (!wrongNames.includes(randomName)) {
                    wrongNames.push(randomName);
                }
            }
            
            const allChoices = [correctName, ...wrongNames];
            
            // ÅÄ±klarÄ± karÄ±ÅŸtÄ±r 
            allChoices.sort(() => Math.random() - 0.5); 
            
            // ÅÄ±klarÄ± oluÅŸtur ve ekrana bas
            choicesContainer.innerHTML = '';
            // ÅÄ±k sayÄ±sÄ± kadar dÃ¶ner (max 5)
            allChoices.forEach((choiceName, index) => {
                const letter = secenekler[index];
                const button = document.createElement('button');
                button.className = 'choice-button';
                
                button.innerHTML = `<span class="choice-letter">${letter})</span> ${choiceName}`; 
                
                button.dataset.name = choiceName;
                button.addEventListener('click', () => {
                    checkAnswer(choiceName, correctName);
                });
                choicesContainer.appendChild(button);
            });
        }

        function displayNewKelime() {
            if (timeLeft <= 0) return;
            
            // KarÄ±ÅŸÄ±k listedeki kelimeler bittiyse, listeyi tekrar karÄ±ÅŸtÄ±r
            if (kelimeIndex >= shuffledKelimeler.length) {
                shuffleArray(shuffledKelimeler);
                kelimeIndex = 0;
            }

            clearInterval(harfInterval);
            clearTimeout(harfTimeout);
            
            // AnimasyonlarÄ± sÄ±fÄ±rla
            harfEl.classList.remove('fade-out');
            harfCountdownBoxEl.style.opacity = '1';
            feedbackEl.innerHTML = ''; 

            currentOsmanlicaKelime = getRandomItem(shuffledKelimeler); // KarÄ±ÅŸÄ±k diziden kelimeyi sÄ±rayla al
            
            // Kelime uzunluÄŸuna gÃ¶re font boyutunu dinamik olarak ayarla
            const kelimeUzunlugu = currentOsmanlicaKelime.length;
            
            if (kelimeUzunlugu > 5) { 
                // Uzun kelimeler iÃ§in font boyutunu kÃ¼Ã§Ã¼ltÃ¼yoruz
                harfEl.style.fontSize = '70px'; 
            } else {
                // KÄ±sa kelimeler iÃ§in normal boyutta kalsÄ±n
                harfEl.style.fontSize = '100px';
            }
            
            // YUMUÅAK GÄ°RÄ°Å ANÄ°MASYONU BAÅLANGIÃ‡ AYARLARI
            // Kelime ekranda gÃ¶rÃ¼nmez ve hafif bÃ¼yÃ¼tÃ¼lmÃ¼ÅŸ olarak baÅŸlar
            harfEl.style.opacity = '0';
            harfEl.style.transform = 'translate(-50%, -60px) scale(1.1)'; 
            
            harfEl.textContent = currentOsmanlicaKelime;
            
            // Zorunlu gecikme olmadan hemen ardÄ±ndan hedef duruma geÃ§ilir (Belerme)
            requestAnimationFrame(() => {
                harfEl.style.opacity = '1';
                harfEl.style.transform = 'translate(-50%, -60px) scale(1.0)';
            });
            
            // Kelimenin doÄŸru okunuÅŸunu ÅŸÄ±klar iÃ§in kullan
            generateChoices(currentOsmanlicaKelime);

            startKelimeCountdown(); // Geri sayÄ±mÄ± baÅŸlat
        }

        // =================================================================
        // CEVAP KONTROLÃœ
        // =================================================================

        function checkAnswer(selectedName, correctName) {
            clearInterval(harfInterval); // Kelime geri sayÄ±mÄ±nÄ± durdur
            clearTimeout(harfTimeout); 

            // TÃ¼m butonlarÄ± devre dÄ±ÅŸÄ± bÄ±rak
            Array.from(choicesContainer.children).forEach(button => {
                button.disabled = true;
            });

            if (selectedName === correctName) {
                score += 10;
                playAudio(audioCorrect); // DOÄRU SESÄ°NÄ° Ã‡AL
                
                feedbackEl.innerHTML = `
                    <span class="icon correct-text">âœ…</span> 
                    <span class="feedback-text correct-text">DOÄRU! (+10 Puan)</span>
                `;
                
                const correctButton = Array.from(choicesContainer.children).find(b => b.dataset.name === correctName);
                if (correctButton) correctButton.style.backgroundColor = 'green';
            } else {
                playAudio(audioWrong); // YANLIÅ SESÄ°NÄ° Ã‡AL
                
                feedbackEl.innerHTML = `
                    <span class="icon wrong-text">âŒ</span> 
                    <span class="feedback-text wrong-text">YANLIÅ!</span>
                `;

                const wrongButton = Array.from(choicesContainer.children).find(b => b.dataset.name === selectedName);
                if (wrongButton) wrongButton.style.backgroundColor = 'red';
                const correctButton = Array.from(choicesContainer.children).find(b => b.dataset.name === correctName);
                if (correctButton) correctButton.style.backgroundColor = 'green';
            }

            scoreEl.textContent = `Puan: ${score}`;

            // Kelime ve sayaÃ§ kaybolma animasyonu
            harfEl.classList.add('fade-out');
            harfCountdownBoxEl.style.opacity = '0';

            // 1 saniye sonra yeni kelimeye geÃ§
            setTimeout(() => {
                feedbackEl.innerHTML = '';
                // ButonlarÄ± tekrar etkinleÅŸtir (yeni soru iÃ§in)
                Array.from(choicesContainer.children).forEach(button => {
                    button.disabled = false;
                });
                displayNewKelime(); // Yeni kelimeyi gÃ¶ster
            }, 1000);
        }

        // =================================================================
        // OYUN SONU
        // =================================================================

        function endGame() {
            clearInterval(timerInterval);
            clearInterval(harfInterval);
            clearTimeout(harfTimeout);
            
            // CLOCK SESÄ°NÄ° DURDUR
            audioClock.pause(); 
            audioClock.currentTime = 0;
            
            // Kelime ve ÅŸÄ±klarÄ± temizle
            quizAreaEl.innerHTML = ''; 

            let endMessage;
            
            if (score >= 90) { 
                endMessage = `
                    <div style="text-align: center; font-size: 24px;">
                        <span class="icon" style="font-size: 40px;">ğŸ†ğŸ¤©</span>
                        <span class="feedback-text correct-text" style="font-size: 30px;">MÃœKEMMEL! TEBRÄ°KLER!</span>
                    </div>
                    <div class="final-score-display">
                        ${score}
                    </div>
                    <span class="feedback-text">Toplam PuanÄ±nÄ±z</span>
                    <button id="restart-button" class="restart-button" onclick="restartGame()">YENÄ°DEN DENE</button>
                `;
                playAudio(audioCorrect); 
            } else {
                endMessage = `
                    <div style="text-align: center; font-size: 24px;">
                        <span class="icon correct-text">ğŸŒŸ</span>
                        <span class="feedback-text">ETKÄ°NLÄ°K SONA ERDÄ°!</span>
                    </div>
                    <div class="final-score-display">
                        ${score}
                    </div>
                    <span class="feedback-text">Toplam PuanÄ±nÄ±z</span>
                    <button id="restart-button" class="restart-button" onclick="restartGame()">YENÄ°DEN DENE</button>
                `;
                playAudio(audioCorrect); 
            }

            // Oyun sonu iÃ§eriÄŸi quiz-area'nÄ±n iÃ§ine ortalanmÄ±ÅŸ olarak yerleÅŸtirilir.
            quizAreaEl.innerHTML = endMessage;
            quizAreaEl.style.display = 'flex'; 
        }

        // =================================================================
        // OYUNU YENÄ°DEN BAÅLATMA
        // =================================================================

        function restartGame() {
            // DeÄŸiÅŸkenleri sÄ±fÄ±rla
            timeLeft = totalDuration;
            score = 0;
            currentOsmanlicaKelime = '';

            // Ã–nceki oyun durumunu temizle
            clearInterval(timerInterval);
            clearInterval(harfInterval);
            clearTimeout(harfTimeout);
            
            // EkranlarÄ± sÄ±fÄ±rla
            scoreEl.textContent = `Puan: 0`;
            updateTimerDisplay(); 
            
            // Yeni oyunu baÅŸlat
            startGameFlow();
        }

        // =================================================================
        // BAÅLANGIÃ‡
        // =================================================================

        document.addEventListener('DOMContentLoaded', () => {
            // Sayfa yÃ¼klenince sadece zamanÄ± gÃ¶ster (BaÅŸlangÄ±Ã§ ekranÄ± gÃ¶rÃ¼nÃ¼r)
            updateTimerDisplay(); 
            
            // BaÅŸlat butonuna tÄ±klandÄ±ÄŸÄ±nda oyun akÄ±ÅŸÄ±nÄ± baÅŸlat
            startButtonEl.addEventListener('click', startGameFlow);
        });
        // JavaScript Sonu
    </script>

</body>
</html>